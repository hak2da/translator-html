<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<script data-ad-client="ca-pub-8505343734712295" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<meta name="keywords" content="" />
<meta name="description" content="" />
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<title>소스 메이트</title>
<link href="http://fonts.googleapis.com/css?family=Oxygen:400,700,300" rel="stylesheet" type="text/css" />
<link href="style.css" rel="stylesheet" type="text/css" media="screen" />
<script type="text/javascript" src="http://code.jquery.com/jquery-3.3.1.min.js"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.24.0/moment.min.js"></script>

<style>
.myButton {
	box-shadow:inset 0px 39px 0px -24px #e67a73;
	background-color:#e4685d;
	border-radius:4px;
	border:1px solid #ffffff;
	display:inline-block;
	cursor:pointer;
	color:#ffffff;
	font-family:Arial;
	font-size:15px;
	padding:6px 15px;
	text-decoration:none;
	text-shadow:0px 1px 0px #b23e35;
}
.myButton:hover {
	background-color:#eb675e;
}
.myButton:active {
	position:relative;
	top:1px;
}

</style>

</head>
<body>

<div id="wrapper">
	<div id="logo" class="container">
<!-- 		<h1><a href="index.html">Translator </a></h1> -->
		<h1><a href="index.html">SourceMate</a></h1>
		<p>소스들을 html파일로 다운받아 보세요.</p>
	</div>
	<div id="menu-wrapper">
		<div id="menu" class="container">
			<ul>
				<li class="current_page_item"><a href="index.html">홈페이지</a></li>
				<li><a href="termofuse.html">이용약관</a></li>
<!-- 				<li><a href="#">개인정보처리방침</a></li> -->
<!-- 				<li><a href="#">Blog</a></li> -->
<!-- 				<li><a href="#">Photos</a></li> -->
<!-- 				<li><a href="#">About Us</a></li> -->
<!-- 				<li><a href="#">Links</a></li> -->
<!-- 				<li><a href="#">Contact Us</a></li> -->
			</ul>
		</div>
	</div>
	
	<div style="text-align:center" class="container" >
	
		<textarea id="textarea1" style="width:80%; left:10%; display:inline-block;" rows="15" cols="30" name="contents" placeholder="소스를 적어주세요"></textarea>
	</div>
	<div id="buttonarea"  style="text-align:center" class="container">
		<font style="font-size:12pt;color:black;margin:0 13px 0 13px">우리의 서비스를 이용하는것은 사용자가 <a href="termofuse.html">이용약관</a>을 동의하는것으로 간주합니다</font>
		<br>
<!-- 		<input type="button" onclick="godown()" value="다운로드 테스트"/> -->
<!-- 		<input type="button" onclick="gotextdown()" value="소스 변환하기"/> -->
		
		<a href="javascript:gotextdown()" class="myButton">소스 변환하기</a>
<!-- 		<input type="button" onclick="goread()" value="데이터 읽기 테스트"/> -->
	</div>
	<div id="howtouse" class="container" style="font-size:15px;color:black;width:51%;">
	<div style="font-weight:bold;">이용 방법<br><br></div>
	<ul>
	<li>1.) 입력칸에 인터넷 소스의 내용을 적어주세요<br>
	인터넷 소스 예제 <br>
	<ul>
	<li>https://www.example.com/themes/images/logo.png<br></li>
	<li>magnet:?xt=urn:btih:209c8226b299b308beaf2b9cd3fb49212dbd13....<br></li>
	</ul>
	</li>
	
	<li>2.) 입력을 완료하면 소스 변환하기 버튼을 클릭하면 html 파일로 받아집니다.<br></li>
	<br>
	</ul>
	<div style="font-weight:bold;">이용시 주의 사항<br><br></div>
	<ul>
	<li>사용하기전에 이용약관을 확인해주세요<br></li>
	<li>인터넷소스는 한줄 내림으로 구분이 되어있어야 변환이 가능합니다.<br></li>
	<li>현재 변환 지원되는 소스들은 한정되어있습니다.<br></li>
	<li>chrome브라우저에서 이용해주세요.</li>
	</ul>
	
	</div>
	
<!-- 	<div id="page" class="container"> -->
<!-- 		<div id="content"> -->
<!-- 			<div class="post"> -->
<!-- 				<h2 class="title"><a href="#">Fusce ultrices fringilla metus</a></h2> -->
<!-- 				<div class="entry"> -->
<!-- 					<p>This is <strong>Glissade </strong>, a free, fully standards-compliant CSS template designed by <a href="http://templated.co" rel="nofollow">TEMPLATED</a>.     The photos in this template are from <a href="http://fotogrph.com/"> Fotogrph</a>. This free template is released under the <a href="http://templated.co/license">Creative Commons Attribution</a> license, so you're pretty much free to do whatever you want with it (even use it commercially) provided you give us credit for it. Have fun :) </p> -->
<!-- 					<p>Sed lacus. Donec lectus. Nullam pretium nibh ut turpis. Nam bibendum. In nulla tortor, elementum vel, tempor at, varius non, purus. Mauris vitae nisl nec metus placerat consectetuer. Donec ipsum. Proin imperdiet est. Phasellus <a href="#">dapibus semper urna</a>. Pellentesque ornare, orci in consectetuer hendrerit, urna elit eleifend nunc, ut consectetuer nisl felis ac diam. Etiam non felis. Donec ut ante. In id eros. Suspendisse lacus turpis,  egestas at sem.  Mauris quam enim,  in, rhoncus ut, lobortis a, est. Pellentesque ornare, orci in consectetuer hendrerit, urna elit eleifend nunc, ut consectetuer. Pellentesque viverra vulputate enim. Aliquam erat volutpat. Pellentesque tristique ante ut risus. Quisque dictum. Integer nisl risus, sagittis convallis, rutrum id, elementum congue, nibh. Suspendisse dictum porta lectus.</p> -->
<!-- 				</div> -->
<!-- 			</div> -->
<!-- 			<div style="clear: both;">&nbsp;</div> -->
<!-- 		</div> -->
<!-- 		<!-- end #content -->
<!-- 		<div id="sidebar"> -->
<!-- 			<div> -->
<!-- 				<h2>Nulla luctus eleifend</h2> -->
<!-- 				<ul class="list-style2"> -->
<!-- 					<li class="first"><a href="#">Pellentesque quis elit non lectus gravida blandit.</a></li> -->
<!-- 					<li><a href="#">Lorem ipsum dolor sit amet, consectetuer adipiscing elit.</a></li> -->
<!-- 					<li><a href="#">Phasellus nec erat sit amet nibh pellentesque congue.</a></li> -->
<!-- 					<li><a href="#">Cras vitae metus aliquam risus pellentesque pharetra.</a></li> -->
<!-- 					<li><a href="#">Phasellus nec erat sit amet nibh pellentesque congue.</a></li> -->
<!-- 					<li><a href="#">Maecenas vitae orci vitae tellus feugiat eleifend.</a></li> -->
<!-- 				</ul> -->
<!-- 			</div> -->
<!-- 		</div> -->
<!-- 		<!-- end #sidebar --> 
<!-- 		<div style="clear: both;">&nbsp;</div> -->
<!-- 	</div> -->
	
	<!-- end #page --> 
	
</div>
<!-- <div id="footer-bg"> -->
<!-- 	<div id="footer-content" class="container"> -->
<!-- 		<div id="column1"> -->
<!-- 			<h2>Tellus feugiat eleifend</h2> -->
<!-- 			<ul class="list-style2"> -->
<!-- 				<li class="first"><a href="#">Pellentesque quis elit non lectus gravida blandit.</a></li> -->
<!-- 				<li><a href="#">Lorem ipsum dolor sit amet, consectetuer adipiscing elit.</a></li> -->
<!-- 				<li><a href="#">Phasellus nec erat sit amet nibh pellentesque congue.</a></li> -->
<!-- 				<li><a href="#">Cras vitae metus aliquam risus pellentesque pharetra.</a></li> -->
<!-- 				<li><a href="#">Maecenas vitae orci vitae tellus feugiat eleifend.</a></li> -->
<!-- 			</ul> -->
<!-- 		</div> -->
<!-- 		<div id="column2"> -->
<!-- 			<h2>Etiam rhoncus volutpat</h2> -->
<!-- 			<ul class="list-style2"> -->
<!-- 				<li class="first"><a href="#">Pellentesque quis elit non lectus gravida blandit.</a></li> -->
<!-- 				<li><a href="#">Lorem ipsum dolor sit amet, consectetuer adipiscing elit.</a></li> -->
<!-- 				<li><a href="#">Phasellus nec erat sit amet nibh pellentesque congue.</a></li> -->
<!-- 				<li><a href="#">Cras vitae metus aliquam risus pellentesque pharetra.</a></li> -->
<!-- 				<li><a href="#">Maecenas vitae orci vitae tellus feugiat eleifend.</a></li> -->
<!-- 			</ul> -->
<!-- 		</div> -->
<!-- 		<div id="column3"> -->
<!-- 			<h2>Recommended Links</h2> -->
<!-- 			<ul class="list-style2"> -->
<!-- 				<li class="first"><a href="#">Pellentesque quis elit non lectus gravida blandit.</a></li> -->
<!-- 				<li><a href="#">Lorem ipsum dolor sit amet, consectetuer adipiscing elit.</a></li> -->
<!-- 				<li><a href="#">Phasellus nec erat sit amet nibh pellentesque congue.</a></li> -->
<!-- 				<li><a href="#">Cras vitae metus aliquam risus pellentesque pharetra.</a></li> -->
<!-- 				<li><a href="#">Maecenas vitae orci vitae tellus feugiat eleifend.</a></li> -->
<!-- 			</ul> -->
<!-- 		</div> -->
<!-- 	</div> -->
<!-- </div> -->
<div id="footer">
	<p>Â© 2020 sourcemate . All rights reserved. Design by <a href="http://templated.co" rel="nofollow">TEMPLATED</a>.  Photos by <a href="http://fotogrph.com/">Fotogrph</a>.</p>
</div>
<!-- end #footer -->
</body>
</html>
<script>

function goread(){ //텍스트에리어안의 데이터읽기테스트
	var txt = document.getElementById("textarea1").value;
	alert(txt);
}

function godown(){//다운로드 테스트
	
	download("test.html", "한글로 저장");
}

function gotextdown(){
	var msg = "";
	var date = new Date();
	var title=moment(date).format('YY년MM월DD일 HH:mm:ss:');
	msg = contentmaking(title);
	
	download(title+".html", msg);
	//download("test.html", document.getElementById("textarea1").value);
}

function contentmaking(title){
	var body = bodymaker();
	var head = "<!DOCTYPE html>\n" + "<html>\n" + "<head>\n" + "<meta charset=\"UTF-8\">\n"
	+ "<title>"+title+"</title>\n" + "</head>\n" + "<body>"
			+ "<div style=\"width:700px;padding-left:150px;padding-top:100px;padding-bottom:100px;word-break:break-all;\">";
	var foot = "</div>\n</body>\n" + "</html>";
	return head + body + foot;
}

function bodymaker(){
	var body =document.getElementById("textarea1").value;
	body=rnreplacer(body);//이건할필요없음
	body=magnetreplacer(body);
	body = tagadder(body);

	return body;
}

function rnreplacer(body){
	while(body.indexOf("\n\n\n")!=-1) {
		//s =s.replaceAll("\n\n", "\n");
		body =replaceAll(body, "\n\n\n", "\n\n");
	}
	return body;
}

function tagadder(body) {
	body = replaceAll(body,"https:","<img src=\"https:");
	body = replaceAll(body,"http:","<br><img src=\"http:");
	body = replaceAll(body,"jpg", "jpg\"/><br>");
	body = replaceAll(body,"png", "png\"/><br>");
	//body = body.replaceAll("\r", "<br>");
	//body = body.replaceAll("magnet", "<br><br>magnet");
	return body;	
}

function replaceAll(str, searchStr, replaceStr){
   return str.split(searchStr).join(replaceStr);
}

function magnetreplacer(body){
	var sarr = body.split("\n");
	var result= "";
	for (var i = 0; i < sarr.length; i++) {
		//if(sarr[i].contentEquals("magnet")) {
		if(sarr[i].indexOf("magnet")!=-1) {				
			sarr[i]="<h3><a href=\""+sarr[i]+"\">↑↑magnet</a></h3><br><br>";
		}
		result+=sarr[i]+"\r\n\r\n";		
	}
	return result;
}

function download(filename, text) {
    var pom = document.createElement('a');
    pom.setAttribute('href', 'data:text/plain;charset=utf-8,' + encodeURIComponent(text));
    pom.setAttribute('download', filename);

    if (document.createEvent) {
        var event = document.createEvent('MouseEvents');
        event.initEvent('click', true, true);
        pom.dispatchEvent(event);
    }
    else {
        pom.click();
    }
}
</script>
